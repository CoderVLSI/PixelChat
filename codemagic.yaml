workflows:
  default-workflow:
    name: Default Workflow
    instance_type: linux
    max_build_duration: 60
    environment:
      flutter: stable
      xcode: latest
    cache:
      cache_paths:
        - ~/.pub-cache
    scripts:
      - name: Set up environment
        script: |
          flutter doctor -v
          flutter --version

      - name: Install dependencies
        script: |
          flutter pub get

      - name: Build APK
        script: |
          flutter build apk --release --debug-prints

    artifacts:
      - build/app/outputs/flutter-apk/*.apk

    publishing:
      email:
        recipients:
          - your-email@example.com
